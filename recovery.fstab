# Android fstab file for OrangeFox (Unified / Spacewar)
#
# Mount point       FStype    Device                                          Flags

# -----------------------------------------------------------------------------
# Logical Partitions (Sistem Bölümleri)
# -----------------------------------------------------------------------------
system              ext4      system                                          display="System";logical;slotselect
system_ext          ext4      system_ext                                      display="System Ext";logical;slotselect
product             ext4      product                                         display="Product";logical;slotselect
vendor              ext4      vendor                                          display="Vendor";logical;slotselect
odm                 ext4      odm                                             display="ODM";logical;slotselect
vendor_dlkm         ext4      vendor_dlkm                                     display="Vendor DLKM";logical;slotselect

# -----------------------------------------------------------------------------
# Physical Partitions (Yedekleme ve Flashlama)
# -----------------------------------------------------------------------------
# BURASI KRİTİK: Alioth mantığıyla Boot'u açıyoruz ki Magisk/Kernel yüklenebilsin.
/boot               emmc      /dev/block/bootdevice/by-name/boot              display="Boot";backup=1;flashimg=1;slotselect

# Unified yapı olduğu için vendor_boot hem yedeklenmeli hem flaşlanabilmeli
/vendor_boot        emmc      /dev/block/bootdevice/by-name/vendor_boot       display="Vendor Boot";backup=1;flashimg=1;slotselect

/dtbo               emmc      /dev/block/bootdevice/by-name/dtbo              display="DTBO";backup=1;flashimg=1;slotselect
/vbmeta             emmc      /dev/block/bootdevice/by-name/vbmeta            display="VBMeta";backup=1;flashimg=1;slotselect
/vbmeta_system      emmc      /dev/block/bootdevice/by-name/vbmeta_system     display="VBMeta System";backup=1;flashimg=1;slotselect

# Logo ve Misc (Senin dosyan ve Alioth birleşimi)
/logo               emmc      /dev/block/bootdevice/by-name/logo              display="Logo";backup=1;flashimg=1;slotselect
/misc               emmc      /dev/block/bootdevice/by-name/misc              display="Misc";backup=1

# Super Partition (Orijinal Rom'a dönmek için gerekebilir)
/super              emmc      /dev/block/bootdevice/by-name/super             display="Super";backup=1;flashimg=1

# -----------------------------------------------------------------------------
# Data & Metadata & Encryption
# -----------------------------------------------------------------------------
/metadata           ext4      /dev/block/bootdevice/by-name/metadata          display="Metadata";backup=1;wrappedkey;wipeingui
/data               f2fs      /dev/block/bootdevice/by-name/userdata          fileencryption=aes-256-xts:aes-256-cts:v2+inlinecrypt_optimized+wrappedkey_v0,metadata_encryption=aes-256-xts:wrappedkey_v0,keydirectory=/metadata/vold/metadata_encryption

# -----------------------------------------------------------------------------
# Internal Storage
# -----------------------------------------------------------------------------
/storage            f2fs      /data/media/0                                   display="Internal Storage";backup=1;fsflags="bind,utf8";usermrf;removable

# -----------------------------------------------------------------------------
# Firmware & Persist (Senin NP1 dosyanın yolları doğrudur)
# -----------------------------------------------------------------------------
/persist            ext4      /dev/block/bootdevice/by-name/persist           display="Persist";backup=1
/prodpersist        ext4      /dev/block/bootdevice/by-name/prodpersist       display="Product Persist";backup=1

/firmware           vfat      /dev/block/bootdevice/by-name/modem             display="Modem";slotselect;fsflags="ro,shortname=lower,uid=1000,gid=1000,dmask=227,fmask=337";mounttodecrypt;wait
/bluetooth          vfat      /dev/block/bootdevice/by-name/bluetooth         display="Bluetooth";slotselect;fsflags="ro,shortname=lower,uid=1002,gid=3002,dmask=227,fmask=337";wait
/dsp                vfat      /dev/block/bootdevice/by-name/dsp               display="DSP";slotselect;wait

# EFS Yedekleri (IMEI için hayati önem taşır)
/efs1               emmc      /dev/block/bootdevice/by-name/modemst1          display="EFS";backup=1
/efs2               emmc      /dev/block/bootdevice/by-name/modemst2          subpartitionof=/efs1;backup=1
/efsc               emmc      /dev/block/bootdevice/by-name/fsc               subpartitionof=/efs1;backup=1
/efsg               emmc      /dev/block/bootdevice/by-name/fsg               subpartitionof=/efs1;backup=1

# -----------------------------------------------------------------------------
# Removable Storage (USB OTG)
# -----------------------------------------------------------------------------
/usb_otg            auto      /dev/block/sdg1        /dev/block/sdg4          flags=display="USB-Storage";storage;wipeingui;removable
