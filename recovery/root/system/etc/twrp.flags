# Android fstab file (Flags for OrangeFox GUI)
# Nothing Phone (1) / Spacewar
# Combined Structure: Modern Backup Logic + Missing Partitions

# -----------------------------------------------------------------------------
# Boot & Recovery Partitions
# -----------------------------------------------------------------------------
/boot           emmc    /dev/block/bootdevice/by-name/boot          flags=slotselect;display="Boot";backup=1;flashimg=1
/vendor_boot    emmc    /dev/block/bootdevice/by-name/vendor_boot   flags=slotselect;display="Vendor Boot";backup=1;flashimg=1
/dtbo           emmc    /dev/block/bootdevice/by-name/dtbo          flags=slotselect;display="DTBO";backup=1;flashimg=1
/recovery       emmc    /dev/block/bootdevice/by-name/recovery      flags=slotselect;display="Recovery";backup=1;flashimg=1

# -----------------------------------------------------------------------------
# System & Super (KRİTİK EKLEME)
# -----------------------------------------------------------------------------
# Eski dosyada vardı, sende yoktu. ROM yüklemek için şart.
/super          emmc    /dev/block/bootdevice/by-name/super         flags=display="Super";backup=1;flashimg=1

# -----------------------------------------------------------------------------
# AVB Partitions
# -----------------------------------------------------------------------------
/vbmeta         emmc    /dev/block/bootdevice/by-name/vbmeta        flags=slotselect;display="VBMeta";backup=1;flashimg=1
/vbmeta_system  emmc    /dev/block/bootdevice/by-name/vbmeta_system flags=slotselect;display="VBMeta System";backup=1;flashimg=1

# -----------------------------------------------------------------------------
# Persist & Calibration
# -----------------------------------------------------------------------------
/persist        ext4    /dev/block/bootdevice/by-name/persist       flags=display="Persist";fsflags=ro
/persist_image  emmc    /dev/block/bootdevice/by-name/persist       flags=display="Persist Image";backup=1;flashimg=1

# Eski dosyadan eklendi (Fabrika verileri)
/prodpersist    ext4    /dev/block/bootdevice/by-name/prodpersist   flags=display="Product Persist";backup=1

# -----------------------------------------------------------------------------
# Firmware & Modem (Decryption İçin Kritik)
# -----------------------------------------------------------------------------
# Bu satır Decryption için hayati önem taşır (mounttodecrypt)
/firmware       vfat    /dev/block/bootdevice/by-name/modem         flags=slotselect;display="Firmware";mounttodecrypt;fsflags="ro,shortname=lower,uid=1000,gid=1000,dmask=227,fmask=337,context=u:object_r:firmware_file:s0"

# Yedekleme amaçlı alt bölümler
/modem          emmc    /dev/block/bootdevice/by-name/modem         flags=slotselect;backup=1;display="Modem"
/bluetooth      emmc    /dev/block/bootdevice/by-name/bluetooth     flags=slotselect;backup=1;subpartitionof=/modem
/dsp            emmc    /dev/block/bootdevice/by-name/dsp           flags=slotselect;backup=1;subpartitionof=/modem

# -----------------------------------------------------------------------------
# EFS (IMEI Yedekleme - Senin Dosyadan Korundu)
# -----------------------------------------------------------------------------
/efs1           emmc    /dev/block/bootdevice/by-name/modemst1      flags=backup=1;display="EFS"
/efs2           emmc    /dev/block/bootdevice/by-name/modemst2      flags=backup=1;subpartitionof=/efs1
/efsc           emmc    /dev/block/bootdevice/by-name/fsc           flags=backup=1;subpartitionof=/efs1
/efsg           emmc    /dev/block/bootdevice/by-name/fsg           flags=backup=1;subpartitionof=/efs1

# -----------------------------------------------------------------------------
# Misc, Logo & Security
# -----------------------------------------------------------------------------
/misc           emmc    /dev/block/bootdevice/by-name/misc          flags=display="Misc";backup=1
/logo           emmc    /dev/block/bootdevice/by-name/logo          flags=display="Logo";backup=1;flashimg=1;slotselect

# Eski dosyadan eklendi (Güvenlik)
/keymaster      emmc    /dev/block/bootdevice/by-name/keymaster     flags=slotselect;backup=1;display="Keymaster"

# Metadata (Yedeklenebilir olsun)
/metadata       ext4    /dev/block/bootdevice/by-name/metadata      flags=display="Metadata";backup=1

# -----------------------------------------------------------------------------
# Removable Storage
# -----------------------------------------------------------------------------
/usb_otg        vfat    /dev/block/sdg1      /dev/block/sdg         flags=fsflags=utf8;display="USB Storage";storage;wipeingui;removable
